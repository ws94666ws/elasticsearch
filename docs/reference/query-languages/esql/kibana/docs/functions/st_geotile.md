% This is generated by ESQL's AbstractFunctionTestCase. Do not edit it. See ../README.md for how to regenerate it.

### ST GEOTILE
Calculates the `geotile` of the supplied geo_point at the specified precision.
The result is long encoded.
Use [`TO_STRING`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/type-conversion-functions/to_string)
to convert the result to a string,
[`TO_LONG`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/type-conversion-functions/to_long)
to convert it to a `long`, or
[`TO_GEOSHAPE`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/type-conversion-functions/to_geoshape)
to calculate the `geo_shape` bounding geometry.

These functions are related to the [`geo_grid` query](https://www.elastic.co/docs/reference/query-languages/query-dsl/query-dsl-geo-grid-query)
and the [`geotile_grid` aggregation](https://www.elastic.co/docs/reference/aggregations/search-aggregations-bucket-geotilegrid-aggregation).

```esql
FROM airports
| EVAL geotile = ST_GEOTILE(location, 2)
| STATS
    count = COUNT(geotile),
    centroid = ST_CENTROID_AGG(location)
      BY geotile
| EVAL geotileString = TO_STRING(geotile)
| SORT count DESC, geotileString ASC
| KEEP count, centroid, geotileString
```
